# ë‹¤êµ­ì–´ ë©€í‹°ëª¨ë‹¬ ì¹˜ë§¤ ì§„ë‹¨ ëª¨ë¸

ê¸°ì¡´ ë©€í‹°ëª¨ë‹¬ ëª¨ë¸ì„ SigLIP ìŠ¤íƒ€ì¼ë¡œ í™•ì¥í•˜ì—¬ ë‹¤êµ­ì–´ ì§€ì›ê³¼ Cross-lingual ì‹¤í—˜ì´ ê°€ëŠ¥í•œ ì¹˜ë§¤ ì§„ë‹¨ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” íŠ¹ì§•

- **ë‹¤êµ­ì–´ ì§€ì›**: English, Greek, Spanish, Mandarin 4ê°œ ì–¸ì–´
- **í™˜ì ë‹¨ìœ„ Stratified Split**: í™˜ìë³„ ë°ì´í„° ëˆ„ìˆ˜ ë°©ì§€
- **Cross-lingual ì‹¤í—˜**: ì–¸ì–´ ê°„ ì „ì´ í•™ìŠµ ì„±ëŠ¥ í‰ê°€
- **ì–¸ì–´ë³„ ìƒì„¸ ë¶„ì„**: ê° ì–¸ì–´ë³„ ì •í™•ë„, AUC, F1-score ê³„ì‚°
- **wandb í†µí•©**: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì‹œê°í™”
- **ë©€í‹°ëª¨ë‹¬ ìœµí•©**: ì˜¤ë””ì˜¤(ResNet-101) + í…ìŠ¤íŠ¸(BERT) ê²°í•©

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
â”œâ”€â”€ main_multilingual.py          # ë©”ì¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ dataset_multilingual.py       # ë‹¤êµ­ì–´ ë°ì´í„°ì…‹ ì²˜ë¦¬
â”œâ”€â”€ models_multilingual.py        # ë©€í‹°ëª¨ë‹¬ ëª¨ë¸ ë° í›ˆë ¨ ë¡œì§
â”œâ”€â”€ run_all_languages.sh         # ì „ì²´ ì–¸ì–´ ì‹¤í—˜ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run_cross_lingual.sh          # Cross-lingual ì‹¤í—˜ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ requirements_multilingual.txt # ì˜ì¡´ì„± íŒ¨í‚¤ì§€
â””â”€â”€ README_multilingual.md        # ì´ íŒŒì¼
```

## ğŸš€ ì„¤ì¹˜ ë° ì„¤ì •

### 1. í™˜ê²½ ì„¤ì •
```bash
# ê°€ìƒí™˜ê²½ ìƒì„± (ì„ íƒì‚¬í•­)
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ë˜ëŠ”
venv\Scripts\activate     # Windows

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements_multilingual.txt
```

### 2. wandb ì„¤ì •
```bash
wandb login
# ë˜ëŠ” API í‚¤ ì§ì ‘ ì„¤ì •
export WANDB_API_KEY="your_api_key"
```

### 3. ë°ì´í„° ì¤€ë¹„
ë°ì´í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤:
```
training_dset/
â”œâ”€â”€ English/
â”‚   â””â”€â”€ Pitt/
â”‚       â”œâ”€â”€ textdata/
â”‚       â””â”€â”€ voicedata/
â”œâ”€â”€ Greek/
â”‚   â””â”€â”€ Dem@Care/
â”‚       â”œâ”€â”€ textdata/
â”‚       â””â”€â”€ voicedata/
â”œâ”€â”€ Spanish/
â”‚   â”œâ”€â”€ textdata/
â”‚   â””â”€â”€ voicedata/
â””â”€â”€ Mandarin/
    â”œâ”€â”€ textdata/
    â””â”€â”€ voicedata/
```

## ğŸ¯ ì‚¬ìš© ë°©ë²•

### 1. ì „ì²´ ì–¸ì–´ ì‹¤í—˜ (í™˜ì ë‹¨ìœ„ Stratified Split)
```bash
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x run_all_languages.sh

# ì‹¤í—˜ ì‹¤í–‰
./run_all_languages.sh
```

**ë˜ëŠ” ì§ì ‘ ì‹¤í–‰:**
```bash
python main_multilingual.py \
    --mode all_languages \
    --data_dir training_dset \
    --languages English Greek Spanish Mandarin \
    --batch_size 16 \
    --num_epochs 50 \
    --learning_rate 2e-5
```

### 2. Cross-lingual ì‹¤í—˜ (ì–¸ì–´ë³„ ì „ì´ í•™ìŠµ)
```bash
# ì „ì²´ ì¡°í•© ì‹¤í—˜
chmod +x run_cross_lingual.sh
./run_cross_lingual.sh
```

**ë˜ëŠ” íŠ¹ì • ì¡°í•©ë§Œ ì‹¤í–‰:**
```bash
python main_multilingual.py \
    --mode cross_lingual \
    --train_languages English Greek Spanish \
    --test_languages Mandarin \
    --batch_size 16 \
    --num_epochs 50
```

### 3. ì»¤ìŠ¤í…€ ì‹¤í—˜
```bash
python main_multilingual.py \
    --mode cross_lingual \
    --train_languages English Spanish \
    --test_languages Greek Mandarin \
    --text_model_type 2 \
    --dropout 0.4 \
    --learning_rate 1e-5 \
    --batch_size 32
```

## âš™ï¸ ì£¼ìš” íŒŒë¼ë¯¸í„°

### ë°ì´í„° ê´€ë ¨
- `--data_dir`: ë°ì´í„° ë””ë ‰í† ë¦¬ ê²½ë¡œ (ê¸°ë³¸: training_dset)
- `--languages`: ì‚¬ìš©í•  ì–¸ì–´ ëª©ë¡
- `--max_seq_len`: ìµœëŒ€ ì‹œí€€ìŠ¤ ê¸¸ì´ (ê¸°ë³¸: 512)
- `--batch_size`: ë°°ì¹˜ í¬ê¸° (ê¸°ë³¸: 16)

### ëª¨ë¸ ê´€ë ¨
- `--text_model_type`: í…ìŠ¤íŠ¸ ëª¨ë¸ íƒ€ì… (1: BERTë§Œ, 2: BERT+LSTM)
- `--dropout`: ë“œë¡­ì•„ì›ƒ ë¹„ìœ¨ (ê¸°ë³¸: 0.3)

### í›ˆë ¨ ê´€ë ¨
- `--num_epochs`: ì—í¬í¬ ìˆ˜ (ê¸°ë³¸: 50)
- `--learning_rate`: í•™ìŠµë¥  (ê¸°ë³¸: 2e-5)
- `--weight_decay`: ê°€ì¤‘ì¹˜ ê°ì‡  (ê¸°ë³¸: 0.01)
- `--seed`: ëœë¤ ì‹œë“œ (ê¸°ë³¸: 42)

### ì‹¤í—˜ ëª¨ë“œ
- `--mode`: ì‹¤í—˜ ëª¨ë“œ (`all_languages` ë˜ëŠ” `cross_lingual`)
- `--train_languages`: Cross-lingualì—ì„œ í›ˆë ¨ ì–¸ì–´
- `--test_languages`: Cross-lingualì—ì„œ í…ŒìŠ¤íŠ¸ ì–¸ì–´

## ğŸ“Š ì‹¤í—˜ ê²°ê³¼

### 1. ì „ì²´ ì–¸ì–´ ì‹¤í—˜ ê²°ê³¼
- **ëª©ì **: ëª¨ë“  ì–¸ì–´ì—ì„œ í™˜ì ë‹¨ìœ„ë¡œ ë¶„í• í•˜ì—¬ ì–¸ì–´ë³„ ì„±ëŠ¥ ë¶„ì„
- **ë¶„í•  ë°©ì‹**: 7:1.5:1.5 (train:val:test)
- **ì¶œë ¥**: ì–¸ì–´ë³„ ì •í™•ë„, AUC, F1-score

### 2. Cross-lingual ì‹¤í—˜ ê²°ê³¼
- **ëª©ì **: ì–¸ì–´ ê°„ ì „ì´ í•™ìŠµ íš¨ê³¼ ë¶„ì„
- **ì‹¤í—˜ ì¡°í•©**:
  1. English+Greek+Spanish â†’ Mandarin
  2. English+Greek+Mandarin â†’ Spanish  
  3. English+Spanish+Mandarin â†’ Greek
  4. Greek+Spanish+Mandarin â†’ English

### 3. ê²°ê³¼ íŒŒì¼
- **ëª¨ë¸**: `best_model_*.pth`
- **ê²°ê³¼**: `checkpoints/results_*.json`
- **ë¡œê·¸**: wandb ëŒ€ì‹œë³´ë“œ

## ğŸŒ ì–¸ì–´ë³„ ì„±ëŠ¥ ë¶„ì„

ì‹¤í—˜ ì™„ë£Œ í›„ ë‹¤ìŒê³¼ ê°™ì€ ì–¸ì–´ë³„ ë©”íŠ¸ë¦­ì´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤:

```
ğŸ“Š ì–¸ì–´ë³„ ì„±ëŠ¥ ë¶„ì„ (ì„ê³„ê°’: 0.523):
============================================================
ğŸŒ English:
  ğŸ“Š ìƒ˜í”Œ: 1234ê°œ (ì •ìƒ: 567, ì¹˜ë§¤: 667)
  ğŸ¯ ì •í™•ë„: 0.856
  ğŸ“ˆ AUC: 0.912
  ğŸ” ì •ë°€ë„: 0.834
  ğŸ” ì¬í˜„ìœ¨: 0.889
  ğŸ” F1: 0.861

ğŸŒ Greek:
  ğŸ“Š ìƒ˜í”Œ: 456ê°œ (ì •ìƒ: 234, ì¹˜ë§¤: 222)
  ğŸ¯ ì •í™•ë„: 0.789
  ğŸ“ˆ AUC: 0.834
  ğŸ” ì •ë°€ë„: 0.756
  ğŸ” ì¬í˜„ìœ¨: 0.812
  ğŸ” F1: 0.783
```

## ğŸ“ˆ wandb ì‹œê°í™”

wandb ëŒ€ì‹œë³´ë“œì—ì„œ ë‹¤ìŒì„ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **í›ˆë ¨ ë©”íŠ¸ë¦­**: Loss, Accuracy, AUC ì¶”ì´
2. **ì–¸ì–´ë³„ ì„±ëŠ¥**: ê° ì–¸ì–´ë³„ ìƒì„¸ ë©”íŠ¸ë¦­
3. **ì‹¤í—˜ ë¹„êµ**: Cross-lingual vs All-languages ì„±ëŠ¥ ë¹„êµ
4. **í•˜ì´í¼íŒŒë¼ë¯¸í„°**: ìµœì  íŒŒë¼ë¯¸í„° ì¡°í•© ë¶„ì„

## ğŸ”§ ëª¨ë¸ ì•„í‚¤í…ì²˜

### 1. í…ìŠ¤íŠ¸ ì¸ì½”ë”
- **BERT-base-uncased**: 768ì°¨ì› íŠ¹ì§•
- **ì„ íƒì‚¬í•­**: LSTM ì¶”ê°€ (1024ì°¨ì›)

### 2. ì˜¤ë””ì˜¤ ì¸ì½”ë”
- **ResNet-101**: ì‚¬ì „í›ˆë ¨ëœ ëª¨ë¸
- **ì¶œë ¥**: 256ì°¨ì› íŠ¹ì§•

### 3. ìœµí•© ë° ë¶„ë¥˜
- **Concatenation**: í…ìŠ¤íŠ¸ + ì˜¤ë””ì˜¤ íŠ¹ì§•
- **ë¶„ë¥˜ê¸°**: Dropout + ReLU + Linear
- **ì¶œë ¥**: ì´ì§„ ë¶„ë¥˜ (ì •ìƒ vs ì¹˜ë§¤)

## ğŸ¯ Cross-lingual ë¶„ì„ ì¸ì‚¬ì´íŠ¸

### 1. ì–¸ì–´ ê°„ ì „ì´ íš¨ê³¼
- ì–´ë–¤ ì–¸ì–´ê°€ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì˜ ì „ì´ë˜ëŠ”ì§€ ë¶„ì„
- ì–¸ì–´ ìœ ì‚¬ì„±ê³¼ ì „ì´ ì„±ëŠ¥ì˜ ìƒê´€ê´€ê³„

### 2. Zero-shot ì„±ëŠ¥
- ë¯¸í•™ìŠµ ì–¸ì–´ì—ì„œì˜ ì§„ë‹¨ ì„±ëŠ¥
- ì–¸ì–´ ë…ë¦½ì  íŠ¹ì§• í•™ìŠµ ì •ë„

### 3. ì–¸ì–´ë³„ íŠ¹ì„±
- ì–¸ì–´ë³„ ì¹˜ë§¤ ì§„ë‹¨ ë‚œì´ë„
- ì–¸ì–´ íŠ¹í™” íŒ¨í„´ vs ê³µí†µ íŒ¨í„´

## ğŸš¨ ì£¼ì˜ì‚¬í•­

1. **GPU ë©”ëª¨ë¦¬**: ë°°ì¹˜ í¬ê¸°ê°€ í´ ê²½ìš° GPU ë©”ëª¨ë¦¬ ë¶€ì¡± ê°€ëŠ¥
2. **ë°ì´í„° ê²½ë¡œ**: ë°ì´í„° êµ¬ì¡°ê°€ ì˜ˆìƒê³¼ ë‹¤ë¥¼ ê²½ìš° `load_*_data` í•¨ìˆ˜ ìˆ˜ì • í•„ìš”
3. **wandb ë¡œê·¸ì¸**: wandb ì‚¬ìš© ì „ ë¡œê·¸ì¸ í•„ìš”
4. **í™˜ì ID**: í™˜ì ë‹¨ìœ„ ë¶„í• ì„ ìœ„í•´ ê³ ìœ í•œ patient_id í•„ìš”

## ğŸ“š ì°¸ê³ ìë£Œ

- **BERT**: [Devlin et al., 2018](https://arxiv.org/abs/1810.04805)
- **ResNet**: [He et al., 2016](https://arxiv.org/abs/1512.03385)
- **Cross-lingual Transfer**: [Pires et al., 2019](https://arxiv.org/abs/1906.01502)

## ğŸ¤ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸ë‚˜ ê¸°ëŠ¥ ì œì•ˆì€ ì´ìŠˆë¡œ ë“±ë¡í•´ì£¼ì„¸ìš”.

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.
